mutation InsertNotification(
  $ownerId: String!
  $formId: String!
  $responseId: String!
  $description: String
) {
  insert_Notification(
    objects: {
      description: $description
      formId: $formId
      ownerId: $ownerId
      relatedId: $responseId
    }
  ) {
    affected_rows
  }
}

subscription Notifications($ownerId: String!) {
  Notification(
    where: { ownerId: { _eq: $ownerId } }
    order_by: [{ createdAt: desc }]
    limit: 5
  ) {
    id
    description
    createdAt
    read
  }
}

mutation ReadNotification($id: Int!) {
  update_Notification(where: { id: { _eq: $id } }, _set: { read: true }) {
    affected_rows
  }
}

mutation ReadAllNotifications($ownerId: String!) {
  update_Notification(
    where: { ownerId: { _eq: $ownerId } }
    _set: { read: true }
  ) {
    affected_rows
  }
}
